import{d as D,a as m,o as d,n as K,u as e,r as F,l as V,C as H,e as t,m as M,w as a,j as v,b as n,i as P,h as i,F as x,p as C,t as p,g as h,W as N}from"./app-Bnk8ffjO.js";import{_ as W,a as q,b as k,c as z,d as A,e as c,f as L,g as G,S as J}from"./AppAlert.vue_vue_type_script_setup_true_lang-XC9jdC2j.js";import{a as g,_ as B,b as j}from"./Label.vue_vue_type_script_setup_true_lang-DsuOYmdZ.js";import{c as O,_}from"./Button.vue_vue_type_script_setup_true_lang-BBkAfvHM.js";import{_ as Q}from"./AppLayout.vue_vue_type_script_setup_true_lang-CAG5NR0s.js";import{S as R}from"./transition-DUHh5mez.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BYEw6tTR.js";import"./index-DJNFXkGl.js";const X=D({__name:"TableCaption",props:{class:{}},setup(y){const b=y;return(f,S)=>(d(),m("caption",{class:K(e(O)("mt-4 text-sm text-muted-foreground",b.class))},[F(f.$slots,"default")],2))}}),Y={key:0,class:"flex h-full flex-1 flex-col gap-4 p-5"},Z={class:"grid grid-cols-2 gap-4"},ee={class:"grid gap-2"},se={class:"grid gap-2"},te={class:"flex items-center justify-between"},ae={key:1,class:"flex h-full flex-1 flex-col gap-4 p-5"},le={class:"grid grid-cols-3 gap-4 items-center"},oe={class:"grid auto-rows-min rounded-xl border border-sidebar-border/70 dark:border-sidebar-border md:grid-cols-1"},re={class:"mb-4 mt-5 flex justify-center text-center"},_e=D({__name:"Index",props:{categories:{}},setup(y){const b=[{title:"Kategori",href:"/dashboard"}],f=["No","Nama Kategori","Icon","Aksi"],S=r=>{l.name=r.name,l.icon=r.icon,l.id=r.id,u.value=!0},$=V(1);function I(r){$.value=r,N.get(route("categories.index"),{page:r},{preserveScroll:!0,preserveState:!0})}function T(r){const s=r.target.value;N.get(route("categories.index"),{search:s},{preserveScroll:!0,preserveState:!0})}const l=H({name:"",icon:"",id:""}),w=()=>{l.reset(),J.fire({title:"Berhasil",text:"Data berhasil disimpan",icon:"success"}),u.value=!1},U=()=>{const r=l.id?route("categories.update",{category:l.id}):route("categories.store");l.id?l.patch(r,{preserveScroll:!0,onSuccess:w}):l.post(r,{preserveScroll:!0,onSuccess:w})},u=V(!1);return(r,s)=>(d(),m(x,null,[t(e(M),{title:"Kategori"}),t(Q,{breadcrumbs:b},{default:a(()=>[u.value==!0?(d(),m("div",Y,[n("form",{class:"flex flex-col space-y-6",onSubmit:P(U,["prevent"])},[n("div",Z,[n("div",ee,[t(e(g),{hidden:"",modelValue:e(l).id,"onUpdate:modelValue":s[0]||(s[0]=o=>e(l).id=o),style:{display:"none"}},null,8,["modelValue"]),t(e(B),{for:"name"},{default:a(()=>s[6]||(s[6]=[i("Name")])),_:1}),t(e(g),{id:"name",modelValue:e(l).name,"onUpdate:modelValue":s[1]||(s[1]=o=>e(l).name=o),class:"mt-1 block w-full",required:"",autocomplete:"name",placeholder:"name"},null,8,["modelValue"]),t(j,{class:"mt-2",message:e(l).errors.name},null,8,["message"])]),n("div",se,[t(e(B),{for:"icon"},{default:a(()=>s[7]||(s[7]=[i("Icon")])),_:1}),t(e(g),{id:"icon",type:"text",class:"mt-1 block w-full",modelValue:e(l).icon,"onUpdate:modelValue":s[2]||(s[2]=o=>e(l).icon=o),autocomplete:"icon",placeholder:"icon"},null,8,["modelValue"]),t(j,{class:"mt-2",message:e(l).errors.icon},null,8,["message"])])]),n("div",te,[n("div",null,[t(e(_),{disabled:e(l).processing,class:"m-1"},{default:a(()=>s[8]||(s[8]=[i("Save")])),_:1},8,["disabled"]),t(e(_),{type:"button",class:"m-1 bg-red-500 hover:bg-red-300 text-white",onClick:s[3]||(s[3]=o=>u.value=!1)},{default:a(()=>s[9]||(s[9]=[i("Cancel")])),_:1})]),t(e(R),{show:e(l).recentlySuccessful,enter:"transition ease-in-out","enter-from":"opacity-0",leave:"transition ease-in-out","leave-to":"opacity-0"},{default:a(()=>s[10]||(s[10]=[n("p",{class:"text-sm text-neutral-600"},"Data berhasil di simpan",-1)])),_:1},8,["show"])])],32)])):v("",!0),u.value==!1?(d(),m("div",ae,[n("div",le,[t(e(g),{class:"mt-1 block w-full",onInput:s[4]||(s[4]=o=>T(o)),type:"text",placeholder:"Masukkan nama kategori"}),s[12]||(s[12]=n("div",{class:"flex justify-end"},null,-1)),t(e(_),{class:"mt-1 ml-auto w-[80px]",onClick:s[5]||(s[5]=o=>u.value=!0)},{default:a(()=>s[11]||(s[11]=[i("Tambah")])),_:1})]),n("div",oe,[t(e(W),null,{default:a(()=>[t(e(X)),t(e(q),null,{default:a(()=>[t(e(k),{class:"bg-gray-50 dark:bg-gray-800"},{default:a(()=>[(d(),m(x,null,C(f,o=>t(e(z),{key:o,class:"w-[100px]"},{default:a(()=>[i(p(o),1)]),_:2},1024)),64))]),_:1})]),_:1}),t(e(A),null,{default:a(()=>[r.categories.data.length===0?(d(),h(e(k),{key:0},{default:a(()=>[t(e(c),{class:"text-center font-medium",colspan:f.length},{default:a(()=>s[13]||(s[13]=[i(" Tidak ada data ")])),_:1},8,["colspan"])]),_:1})):v("",!0),(d(!0),m(x,null,C(r.categories.data,(o,E)=>(d(),h(e(k),{key:o.id},{default:a(()=>[t(e(c),{class:"p-3"},{default:a(()=>[i(p(r.categories.from+E),1)]),_:2},1024),t(e(c),null,{default:a(()=>[i(p(o.name),1)]),_:2},1024),t(e(c),null,{default:a(()=>[i(p(o.icon),1)]),_:2},1024),t(e(c),null,{default:a(()=>[t(e(_),{class:"btn m-1 bg-sky-600 text-white",variant:"outline",onClick:ne=>S(o)},{default:a(()=>s[14]||(s[14]=[i("Edit ")])),_:2},1032,["onClick"]),t(L,{show:!0,id:o.id,url:r.route("categories.index"),title:"Hapus data "+o.name,description:"Data yang dihapus tidak dapat dikembalikan"},null,8,["id","url","title"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),n("div",re,[t(G,{items:r.categories,page:$.value,"onUpdate:page":I},null,8,["items","page"])])])])):v("",!0)]),_:1})],64))}});export{_e as default};
